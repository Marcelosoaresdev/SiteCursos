<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cursos - Vitis Souls</title>

    <!-- =================== SEO BÁSICO =================== -->
    <meta
      name="description"
      content="Descubra os cursos Vitis Souls e transforme sua saúde, finanças e autoestima. Comece hoje sua jornada de evolução pessoal!"
    />
    <meta name="author" content="Vitis Souls" />

    <!-- =================== FAVICON =================== -->
    <link
      rel="shortcut icon"
      href="src/assets/arvoreVitis.webp"
      type="image/webp"
    />

    <!-- =================== GOOGLE FONTS OTIMIZADO =================== -->
    <!-- Preconnect para acelerar fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Preload das fonts críticas -->
    <link
      rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=League+Gothic:wght@400&display=swap"
    />
    <link
      rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Allura:wght@400&display=swap"
    />
    <link
      rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    />

    <!-- Carregamento crítico das fonts principais -->
    <link
      href="https://fonts.googleapis.com/css2?family=League+Gothic:wght@400&display=swap"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Allura:wght@400&display=swap"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    />

    <!-- Font fallbacks para evitar FOUT -->
    <style>
      /* Fallbacks críticos para fontes customizadas */
      .font-league {
        font-family: 'League Gothic', 'Arial Black', 'Impact', sans-serif;
      }
      .font-ttnorms {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      }
      .font-allura {
        font-family: 'Allura', 'Brush Script MT', cursive;
      }
      
      /* Previne layout shift durante carregamento */
      .hero-text {
        font-display: swap;
        visibility: hidden;
      }
      .fonts-loaded .hero-text {
        visibility: visible;
      }
    </style>

    <!-- =================== META PIXEL CODE =================== -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "https://connect.facebook.net/en_US/fbevents.js"
      );
      fbq("init", "2788688271521116");
      fbq("track", "PageView");
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Função para obter os parâmetros UTM e o parâmetro "sck" da URL
        function getParameters() {
          const urlParams = new URLSearchParams(window.location.search);
          const params = {};

          urlParams.forEach((value, key) => {
            // Captura parâmetros que começam com "utm_" ou que sejam exatamente "sck"
            if (key.startsWith("utm_") || key === "sck") {
              params[key] = value;
            }
          });

          return params;
        }

        // Função para adicionar os parâmetros a uma URL
        function appendParameters(url, params) {
          const urlObject = new URL(url);

          Object.keys(params).forEach((key) => {
            urlObject.searchParams.set(key, params[key]);
          });

          return urlObject.href;
        }

        // Captura os parâmetros desejados da URL atual
        const params = getParameters();
        if (Object.keys(params).length > 0) {
          // Seleciona todos os links da página e adiciona os parâmetros
          document.querySelectorAll("a").forEach((link) => {
            if (link.href) {
              link.href = appendParameters(link.href, params);
            }
          });
        }
      });
    </script>
  </head>

  <body>
    <!-- Pixel para navegadores com JS desativado -->
    <noscript>
      <img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=2788688271521116&ev=PageView&noscript=1"
        alt="pixel"
      />
    </noscript>

    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
